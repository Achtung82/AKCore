@using AKCore.DataModel
@model AKCore.Models.PageEditModel
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
    ViewData["Album"] = Model.Albums;
}


<div class="row">
    <form id="page-edit" action="" method="post">
        <div class="col-md-6">
            <div class="alert alert-danger" style="display: none;"></div>
            <div class="alert alert-success" style="display: none;"></div>
            <div class="form-group">
                <label for="name">Namn</label>
                <input type="text" class="form-control" required="required" id="name" name="Name" placeholder="Namn" value="@Model.Name">
            </div>
            <div class="form-group">
                <label for="slug">Sidlänk</label>
                <input type="text" class="form-control" data-oldslug="@Model.Slug" required="required" id="slug" name="Slug" placeholder="Sidlänk" value="@Model.Slug">

            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="slug">Inställningar</label>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" id="start-page"> Startsida
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        @Html.EditorFor(x => x.LoggedIn) Kräver inloggning
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        @Html.EditorFor(x => x.LoggedOut) Enbart utloggade
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        @Html.EditorFor(x => x.BalettOnly) För baletten
                    </label>
                </div>
            </div>
            <button type="submit" class="btn btn-default">Spara</button>
        </div>
    </form>
</div>
<div class="row">
    <div class="col-xs-12">
        <div class="dropdown">
            <button class="btn btn-default dropdown-toggle add-widgets-btn" type="button" id="add-widgets-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Lägg till widget
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu widget-choose" aria-labelledby="add-widgets-btn">
                <li>
                    <a href="#" data-type="TextImage">
                        <span class="glyphicon glyphicon-align-left"></span>
                        <span class="glyphicon glyphicon-picture"></span>
                    </a>
                </li>
                <li>
                    <a href="#" data-type="Text">
                        <span class="glyphicon glyphicon-align-justify nomargin"></span>
                        <span class="glyphicon glyphicon-align-left"></span>
                    </a>
                </li>
                <li>
                    <a href="#" data-type="Image" style="text-align: center;">
                        <span class="glyphicon glyphicon-picture"></span>
                    </a>
                </li>
                <li>
                    <a href="#" data-type="Video" style="text-align: center;">
                        <span class="glyphicon glyphicon-facetime-video"></span>
                    </a>
                </li>
                <li>
                    <a href="#" data-type="Music" style="text-align: center;">
                        <span class="glyphicon glyphicon-music"></span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="dropdown">
            <button class="btn btn-default dropdown-toggle add-widgets-btn" type="button" id="add-special-widgets" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Lägg till specialwidget
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu widget-choose-special" aria-labelledby="add-special-widgets">
                <li>
                    <a href="#" data-type="MemberList">
                        Adressregister
                    </a>
                </li>
                <li>
                    <a href="#" data-type="PostList">
                        Kamererspostlista
                    </a>
                </li>
                <li>
                    <a href="#" data-type="Join">
                        Gå med-formulär
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<ul id="widget-area">
    @foreach (var w in Model.Widgets)
    {
        <li class="row widget @w.Type" data-type="@w.Type">
            <div class="widget-header">
                <h4>@w.GetHeader()</h4> <span class="btn pull-right remove-widget glyphicon glyphicon-remove"></span><span class="btn pull-right min-widget glyphicon glyphicon-minus"></span>
            </div>
            <div class="widget-body">
                    @Html.Partial(w.Type, w)
            </div>
        </li>
    }
</ul>
<ul id="widget-templates">
    @foreach (string wName in AkWidgets.Widgets)
    {
        var w = new Widget()
        {
            Type = wName
        };
        <li class="row widget @w.Type" data-type="@w.Type">
            <div class="widget-header">
                <h4>@w.GetHeader()</h4> <span class="btn pull-right remove-widget glyphicon glyphicon-remove"></span><span class="btn pull-right min-widget glyphicon glyphicon-minus"></span>
            </div>
            <div class="widget-body">
                @Html.Partial(w.Type, w)
            </div>
        </li>
    }
</ul>


<div id="imagePickerModal" class="modal fade">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Välj en bild</h4>
            </div>
            <div class="modal-body">
                <form class="form-inline ak-search" id="search-pickermedia-form" action="" method="GET">
                    <div class="form-group">
                        <input type="text" class="form-control" name="SearchPhrase" id="searchtext">
                    </div>
                    <button type="submit" class="btn btn-default">Sök</button>
                </form>
                <div class="row gallery" id="picker-images"></div>
            </div>
            <div class="modal-footer">
                Välj bild
            </div>
        </div>
    </div>
</div>


<script src="//cdn.tinymce.com/4/tinymce.min.js"></script>