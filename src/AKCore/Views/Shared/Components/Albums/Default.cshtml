@model IList<AKCore.DataModel.Album>
<script>
    var widgetAlbums = {};
    @foreach (var a in Model)
    {
        @: widgetAlbums['@a.Id'] = {};
        @: widgetAlbums['@a.Id'].category = '@a.Category';
        @: widgetAlbums['@a.Id'].name = '@Html.Raw(a.Name)';
        @: widgetAlbums['@a.Id'].image = '@a.Image';
        @: widgetAlbums['@a.Id'].tracks = {};
        foreach (var track in a.Tracks)
        {
            @: widgetAlbums['@a.Id'].tracks['@track.Number'] = {};
            @: widgetAlbums['@a.Id'].tracks['@track.Number'].filename = '@track.FileName';
            @: widgetAlbums['@a.Id'].tracks['@track.Number'].name = '@track.GetDisplayName()';
        }
    }

</script>